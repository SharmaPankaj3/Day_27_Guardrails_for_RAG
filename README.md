# Day 27: RAG Guardrails Demo
This repository contains a demo implementation of a **Retrieval-Augmented Generation (RAG)** pipeline with **guardrails** using **Weaviate**, **LangChain**, and **OpenAI** embeddings. 
The project demonstrates how to ingest documents, query them, and enforce safety and grounding checks on answers generated by the LLM.

## Features

- Connects to **Weaviate Cloud** for vector storage.
- Ingests plain text documents, splits them into title/content sections.
- Uses **OpenAI embeddings** (`text-embedding-3-small`) for vectorization.
- Implements **RAG pipeline**:
  - Retrieve top-K relevant documents.
  - Generate answers constrained to retrieved contexts.
  - Verify grounding using LLM-based guardrails.
  - Filter unsafe queries using blocklist keywords.
- Handles updates to documents and re-ingestion.
- Pydantic schema for structured output.
## Requirements
- Python 3.10+
- Install dependencies:
pip install -r requirements.txt
Environment variables for API keys (or store keys in .txt files):
OPENAI_APIKEY=<your_openai_api_key>
WEAVIATE_API_KEY=<your_weaviate_api_key>

Update WEAVIATE_URL in main.py with your Weaviate cluster URL.

Update TXT_PATH with the path to your document file.

Run the script:
python main.py
Ask questions in the interactive prompt. Type exit to quit.

Project Structure
Day_27_Guardrails_for_RAG/
├── main.py                  # Main RAG + guardrails script
├── Generative AI_doc.txt    # Documents for ingestion
├── Key_GEN_AI.txt           # OpenAI key (ignored in git)
├── rag-guradrails-28_gurad_rail_with_rag.txt # Weaviate key (ignored in git)
├── .gitignore
└── README.md
Usage Example
text
Copy code
Question: What are embeddings used for?
Response:
{
  'answer': 'Embeddings are used to represent text, images, or other data as numerical vectors. ...',
  'grounded': True,
  'sources': ['Embeddings are numerical vector representations of text...'],
  'confidence': 1.0,
  'note': 'Supported by retrieved contexts.'
}
